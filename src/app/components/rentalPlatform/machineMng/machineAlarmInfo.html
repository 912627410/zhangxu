<div class="machine-content" resize>
  <section class="content-header">
    <h1>
      <small>{{'alarmInformation'| translate}}</small>
    </h1>
    <ol class="breadcrumb">
      {{'rentalCurrentLocate'|translate}}:
      <li><i class="fa fa-car"></i>{{'vehicleManagement'| translate}}</li>
      <li class="active"><i class="fa fa-bell-o"></i>{{'alarmInformation'| translate}}</li>
    </ol>
  </section>
  <!--alarmInfo begin-->
  <div id="alarmInfo" class="container-fluid">
    <div class="row info-box-container">
      <div class="col-md-3 col-sm-6 col-xs-12">
       <div class="info-box  info-card">
          <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height" >
              <img class="profit-info-height"  style="padding-left: 5px"
                   src="assets/images/fence-rental.png"/>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6 profit-info-height" >
              <div class="profit-info-height">{{'rentalGeo-FenceWarning'|translate}}</div>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height alarm-pointer">
              <div ng-click="machineAlarmInfoCtr.loadMsgDataByType(1)"><strong ng-bind="machineAlarmInfoCtr.fenceAlarm"></strong></div>
            </div>
          </div>
          <!--<div class="info-box-left-text alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(1)" >
            <span class=" info-box-left-text-top">{{'rentalGeo-FenceWarning'|translate}}</span>
            <span class="info-box-number info-box-left-text-below" ng-bind="machineAlarmInfoCtr.fenceAlarm"></span>
          </div>
          <div class="miniChart"></div>-->
       </div>
      </div>


      <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box  info-card">
          <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height" >
              <img class="profit-info-height"  style="padding-left: 5px"
                   src="assets/images/car.png"/>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6 profit-info-height" >
              <div class="profit-info-height" >{{'rentalEquipmentWarning'|translate}}</div>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height alarm-pointer">
              <div  ng-click="machineAlarmInfoCtr.loadMsgDataByType(4)"><strong  ng-bind="machineAlarmInfoCtr.machineAlarm"></strong></div>
            </div>
          </div>
          <!--<div class="info-box-left-text alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(4)" >
            <span class=" info-box-left-text-top">{{'rentalEquipmentWarning'|translate}}</span>
            <span class="info-box-number info-box-left-text-below" ng-bind="machineAlarmInfoCtr.machineAlarm"></span>
          </div>
          <div class="miniChart"></div>-->
        </div>
      </div>

      <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box  info-card">
          <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height" >
              <img class="profit-info-height"  style="padding-left: 5px"
                   src="assets/images/main.png"/>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6 profit-info-height" >
              <div class="profit-info-height">{{'rentalMaintenanceReminder'|translate}}</div>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height alarm-pointer">
              <div ng-click="machineAlarmInfoCtr.loadMsgDataByType(2)"><strong ng-bind="machineAlarmInfoCtr.keepAlarm"></strong></div>
            </div>
          </div>
          <!--<div class="info-box-left-text alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(2)">
            <span class=" info-box-left-text-top">{{'rentalMaintenanceReminder'|translate}}</span>
            <span class="info-box-number info-box-left-text-below" ng-bind="machineAlarmInfoCtr.keepAlarm"></span>
          </div>
          <div class="miniChart"></div>-->
        </div>
      </div>

      <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box  info-card">
          <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height" >
              <img class="profit-info-height"  style="padding-left: 5px"
                   src="assets/images/offline.png"/>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6 profit-info-height" >
              <div class="profit-info-height">{{'rentalOff-lineReminder'|translate}}</div>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-3 profit-info-height alarm-pointer">
              <div ng-click="machineAlarmInfoCtr.loadMsgDataByType(3)"><strong ng-bind="machineAlarmInfoCtr.offLineAlarm"></strong></div>
            </div>
          </div>
          <!--<div class="info-box-left-text alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(3)">
            <span class=" info-box-left-text-top">{{'rentalOff-lineReminder'|translate}}</span>
            <span class="info-box-number info-box-left-text-below" ng-bind="machineAlarmInfoCtr.offLineAlarm"></span>
          </div>
          <div class="miniChart"></div>-->
        </div>
      </div>


    </div>
    <div class="row base-box-container alarm-md-box" ng-style="machineAlarmInfoCtr.baseBoxContainer" style="margin-top: 10px">
      <div class="row">
        <div class="col-lg-2 col-md-2 col-sm-4">
          <div class="box base-left-map-box-container">
            <div class="box-header with-border">
              <h3 class="box-title">{{'type'|translate}}</h3>
            </div>
            <div class="box-body no-padding">
              <ul class="nav nav-pills nav-stacked">
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.all==1]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByStatus(null)"><i class="fa fa-check-square-o"></i>{{'rentalAllAlarmMsg'|translate}}
                    <span class="label label-default pull-right linght_center">{{machineAlarmInfoCtr.allNotificationNumber}}</span>
                  </a>
                </li>
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.searchConditions.status==false]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByStatus(false)"><i class="fa fa-envelope-o"></i>{{'rentalAllUndo'|translate}}
                    <span class="label label-default pull-right linght_center">{{machineAlarmInfoCtr.noProcessNumber}}</span>
                  </a>
                </li>
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.searchConditions.status==true]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByStatus(true)"><i class="fa fa-envelope-open-o" aria-hidden="true"></i>{{'rentalAllDone'|translate}}
                    <span class="label label-default pull-right linght_center">{{machineAlarmInfoCtr.processedNumber}}</span>
                  </a>
                </li>
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.searchConditions.alarmType==1]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(1)"><i class="fa fa-map"></i>{{'rentalGeo-FenceWarning'|translate}}
                    <span class="label label-default pull-right" ng-bind="machineAlarmInfoCtr.fenceAlarm"></span>
                  </a>
                </li>
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.searchConditions.alarmType==4]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(4)"><i class="fa fa-cog"></i> {{'rentalEquipmentWarning'|translate}}
                    <span class="label label-default pull-right linght_center" ng-bind="machineAlarmInfoCtr.machineAlarm"></span>
                  </a>
                </li>
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.searchConditions.alarmType==2]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(2)"><i class="fa fa-cog"></i>{{'rentalMaintenanceReminder'|translate}}
                    <span class="label label-default pull-right linght_center" ng-bind="machineAlarmInfoCtr.keepAlarm"></span>
                  </a>
                </li>
                <li ng-class="{true: 'active', false: 'inactive'}[machineAlarmInfoCtr.searchConditions.alarmType==3]">
                  <a class="alarm-pointer" ng-click="machineAlarmInfoCtr.loadMsgDataByType(3)"><i class="fa fa-unlink"></i>{{'rentalOff-lineReminder'|translate}}
                    <span class="label label-default pull-right linght_center" ng-bind="machineAlarmInfoCtr.offLineAlarm"></span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-lg-10 col-md-10 col-sm-8 table-wrapper">
          <div class="box base-left-map-box-container ">
            <div class="box-header with-border">
              <div class="row">
                <div class="col-lg-1 col-md-1" style="padding: 0px;">
                  <h3 class="box-title">{{'rentalMsgContent'|translate}}</h3>
                </div>
                <div class="col-lg-11 col-md-11">
                  <div class="box-tools">
                    <div class="form-group table-form-group "><!--搜索框-->
                      <div class="row">
                        <form class="form-horizontal" role="form">
                          <label class="col-md-1 control-label font-nomal">{{'rentalMachineID'|translate}}:</label>
                          <input class="col-md-2 form-control" placeholder="{{'rentalMachineID'|translate}}"
                                 ng-model="machineAlarmInfoCtr.searchConditions.licenseId"/>

                          <label class="col-md-1 control-label font-nomal">{{'rentalDeviceID'|translate}}:</label>
                          <input class="col-md-2 form-control" placeholder="{{'rentalDeviceID'|translate}}"
                                 ng-model="machineAlarmInfoCtr.searchConditions.deviceNum"/>

                          <label class="col-md-1 control-label font-nomal">{{'content'|translate}}:</label>
                          <input class="col-md-2 form-control" placeholder="{{'rentalMsgContent'|translate}}"
                                 ng-model="machineAlarmInfoCtr.searchConditions.content"/>

                        <div class="col-md-3">
                          <button class="btn btn-primary" type="button"
                                  ng-click="machineAlarmInfoCtr.getMsgByAlarmType(0,machineAlarmInfoCtr.pageSize,null,machineAlarmInfoCtr.searchConditions)">{{'query'|translate}}
                          </button>
                          <button class="btn btn-default" type="button"
                                  ng-click="machineAlarmInfoCtr.searchConditions=null">{{'reset'|translate}}
                          </button>
                        </div>
                       </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="box-body no-padding">
              <div class="mailbox-controls">
                <button type="button" class="btn btn-default btn-sm" ng-click="machineAlarmInfoCtr.select=!machineAlarmInfoCtr.select;machineAlarmInfoCtr.selectAll(machineAlarmInfoCtr.select)">
                  {{'checkAll'|translate}}
                </button>
                <button type="button" class="btn btn-default btn-sm" ng-click="machineAlarmInfoCtr.reverse()">
                  {{'Reverse'|translate}}
                </button>
                <div class="btn-group">
                  <button type="button" class="btn btn-default btn-sm" ng-click="machineAlarmInfoCtr.processAll()">
                    {{'processAll'|translate}}
                  </button>
                </div>
                <!--<div ng-repeat="notification in machineAlarmInfoCtr.notificationList track by $index"> {{notification.state}}</div>-->

              </div>
              <div class="table-responsive mailbox-messages">
                <table class="table table-hover table-striped">
                  <tr  class="table-center">
                    <th >{{'select'|translate}}</th>
                    <th >{{'deviceNum'|translate}}</th>
                    <th >{{'machineNumberAndCarNumber'|translate}}</th>
                    <th >{{'content'|translate}}</th>
                    <th >{{'alarmTime'|translate}}</th>
                    <th >{{'state'|translate}}</th>
                    <th >{{'operation'|translate}}</th>
                  </tr>
                  <tr ng-repeat="notification in machineAlarmInfoCtr.notificationList track by $index">
                    <td style="text-align: center;"><input type="checkbox"  ng-model="notification.state"  ></td>
                    <td class="mailbox-subject"><a ng-click="machineAlarmInfoCtr.machineMonitor(notification.licenseId)" class="alarm-pointer">{{notification.deviceNum}}</a></td>
                    <td class="mailbox-subject"><a ng-click="machineAlarmInfoCtr.machineMonitor(notification.licenseId)" class="alarm-pointer">{{notification.licenseId}}</a></td>
                    <td class="mailbox-subject">{{notification.content}}</td>
                    <td class="mailbox-date">{{notification.recordTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td>
                        <span class="alarmSpan" ng-if="notification.processStatus == false">{{'undo'|translate}}</span>
                        <span class="alarmSpan2"  ng-if="notification.processStatus == true">{{'rentaldone'|translate}}</span>
                    </td>
                    <td >
                      <button type="button" class="btn progress-bar-warning btn-xs btn-font-color"  ng-click="machineAlarmInfoCtr.processRentalNotificationDeal2(notification,$index)">{{'processingAalarm'|translate}}</button>
                      <button type="button" class="btn btn-default btn-xs btn-font-color"  ng-click="machineAlarmInfoCtr.neglect(notification,$index)">{{'neglect'|translate}}</button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div class="box-footer no-padding">
              <div class="alarm-foot-padding">
                <uib-pagination class="pagination-sm pagination-custom" boundary-links="true" rotate="false"
                                total-items="machineAlarmInfoCtr.totalElements"
                                ng-change="machineAlarmInfoCtr.getMsgByAlarmType(machineAlarmInfoCtr.currentPage-1,machineAlarmInfoCtr.pageSize,machineAlarmInfoCtr.totalElements,machineAlarmInfoCtr.searchConditions)"
                                max-size="10"
                                ng-model="machineAlarmInfoCtr.currentPage"
                                items-per-page="machineAlarmInfoCtr.pageSize"
                                previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">
                </uib-pagination>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--alarmInfo end-->
</div>
