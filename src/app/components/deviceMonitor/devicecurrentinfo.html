<style type="text/css">
  /* 鼠标移入轮播组件时，显示导航 */
  /* 继续隐藏导航下面的阴影*/
  .carousel.slide:hover .carousel-control{
    display: block;
    background: none;
  }

  /* 默认隐藏指标,就是那几个小点 */
  .carousel.slide .carousel-indicators{
    display: none;
  }

  /* 默认隐藏左右导航*/
  .carousel.slide .carousel-control{
    display: none;
  }

  /* Timeline */
  .timeline,
  .timeline-horizontal {
    list-style: none;
    padding: 20px;
    position: relative;
  }
  .timeline .timeline-item .timeline-badge {
    color: #fff;
    width: 54px;
    height: 54px;
    line-height: 52px;
    font-size: 22px;
    text-align: center;
    position: absolute;
    top: 18px;
    left: 50%;
    margin-left: -25px;
    background-color: #7c7c7c;
    border: 3px solid #ffffff;
    z-index: 100;
    border-top-right-radius: 50%;
    border-top-left-radius: 50%;
    border-bottom-right-radius: 50%;
    border-bottom-left-radius: 50%;
  }
  .timeline .timeline-item .timeline-panel {
    position: relative;
    width: 46%;
    float: left;
    right: 16px;
    border: 1px solid #c0c0c0;
    background: #ffffff;
    border-radius: 2px;
    padding: 15px;
    -webkit-box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
  }
  .timeline .timeline-item .timeline-panel:before {
    position: absolute;
    top: 26px;
    right: -16px;
    display: inline-block;
    border-top: 16px solid transparent;
    border-left: 16px solid #c0c0c0;
    border-right: 0 solid #c0c0c0;
    border-bottom: 16px solid transparent;
    content: " ";
  }
  .timeline .timeline-item .timeline-panel .timeline-title {
    margin-top: 0;
    color: inherit;
  }
  .timeline .timeline-item .timeline-panel .timeline-body > p,
  .timeline .timeline-item .timeline-panel .timeline-body > ul {
    margin-bottom: 0;
  }
  .timeline .timeline-item .timeline-panel .timeline-body > p + p {
    margin-top: 5px;
  }
  .timeline .timeline-item:nth-child(even) .timeline-panel {
    float: right;
    left: 16px;
  }
  .timeline .timeline-item:nth-child(even) .timeline-panel:before {
    border-left-width: 0;
    border-right-width: 14px;
    left: -14px;
    right: auto;
  }
  .timeline-horizontal {
    list-style: none;
    position: relative;
    padding: 20px 0px 20px 0px;
    display: inline-block;
  }
  .timeline-horizontal:before {
    height: 3px;
    top: auto;
    bottom: 26px;
    left: 56px;
    right: 0;
    width: 100%;
    margin-bottom: 20px;
  }
  .timeline-horizontal .timeline-item {
    display: table-cell;
    height: 280px;
    min-width: 220px;
    float: none !important;
    padding-left: 0px;
    padding-right: 20px;
    margin: 0 auto;
    vertical-align: bottom;
  }
  .timeline-horizontal .timeline-item .timeline-panel {
    top: auto;
    bottom: 64px;
    display: inline-block;
    float: none !important;
    left: 0 !important;
    right: 0 !important;
    width: 100%;
    margin-bottom: 20px;
  }
  .timeline-horizontal .timeline-item .timeline-panel:before {
    top: auto;
    bottom: -16px;
    left: 28px !important;
    right: auto;
    border-right: 16px solid transparent !important;
    border-top: 16px solid #c0c0c0 !important;
    border-bottom: 0 solid #c0c0c0 !important;
    border-left: 16px solid transparent !important;
  }
  .timeline-horizontal .timeline-item .timeline-badge {
    top: auto;
    bottom: 0px;
    left: 43px;
  }
</style>
<div class="modal-header">
  <h3 class="modal-title">{{'equipmentWorkingStatusDetails'|translate}}
    <button style="margin-left: 5px" class="btn btn-warning pull-right" type="button" ng-click="deviceCurrentInfoCtrl.cancel()">{{'close'|translate}}</button>
    <button style="margin-left: 15px" class="btn btn-primary pull-right" type="button" ng-click="deviceCurrentInfoCtrl.refreshCurrentDeviceInfo(deviceCurrentInfoCtrl.deviceinfo.id)">{{'refresh'|translate}}</button>
    <!--轮播-->
    <span id="myCarousel" class="carousel slide pull-right" style="width: 250px">
      <div>
        <uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides" no-transition="noTransition">
          <uib-slide ng-repeat="item in notices" actual="false">
            <a href="" ng-if="item.url!=null" ng-click="deviceCurrentInfoCtrl.openNotification(deviceCurrentInfoCtrl.deviceinfo,item,'sx')"><h5 class="text text-green">{{ item.title }}</h5></a>
            <h5 ng-if="item.url==null" class="text text-green">{{ item.title }}</h5>
          </uib-slide>
        </uib-carousel>
      </div>
    </span>
  </h3>
</div>
<form name="deviceDetailForm" class="form-horizontal" ng-submit="ok()">
  <!--设备监控-->
  <uib-tabset justified="true">

    <!--数据-->
    <uib-tab presentation-href="dashboard:deviceMonitor:currentData">
      <uib-tab-heading >
        {{'data'|translate}}
      </uib-tab-heading>
      <div class="modal-body"  style=" overflow-y:scroll; overflow-x:hidden; height:500px;">
        <div class="box-body" >
          <div class="row">
            <!--三个图表气压图，转速图，油位图 begin-->
            <div class="col-md-3" >
              <highchart id="container-air" style="width: 200px; height: 150px; float: left"  config="deviceCurrentInfoCtrl.highchartsAir"></highchart>
            </div>
            <div class="col-md-6" >
              <highchart id="container-rpm" style="width: 400px; height: 200px; float:left" config="deviceCurrentInfoCtrl.highchartsRpm"></highchart>
            </div>
            <div class="col-md-3" >
              <highchart id="container-oil" style="width: 200px; height: 150px; float: left"  config="deviceCurrentInfoCtrl.highchartsOil"></highchart>
            </div>
            <!--三个图表气压图，转速图，油位图 end-->
          </div>
          <div class="row">
            <!--矿机 LED begin-->
            <div class="col-md-12">
              <div class="table-responsive">
                <table class="table">
                  <tr>
                    <td  ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:16">
                      <div ng-switch-when="0" class="harSlowMachineNormalTwo" title="{{'harSlowMachineTwo'|translate}}"></div>
                      <div ng-switch-when="1" class="harSlowMachineWarningTwo" title="{{'harSlowMachineTwo'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:17">
                      <div ng-switch-when="0" class="harSlowMachineNormalThree" title="{{'harSlowMachineThree'|translate}}"></div>
                      <div ng-switch-when="1" class="harSlowMachineWarningThree" title="{{'harSlowMachineThree'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:18">
                      <div ng-switch-when="0" class="harSlowMachineNormalFour" title="{{'harSlowMachineFour'|translate}}"></div>
                      <div ng-switch-when="1" class="harSlowMachineWarningFour" title="{{'harSlowMachineFour'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:19">
                      <div ng-switch-when="0" class="harSlowMachineNormalOne" title="{{'harSlowMachineOne'|translate}}"></div>
                      <div ng-switch-when="1" class="harSlowMachineWarningOne" title="{{'harSlowMachineOne'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:20">
                      <div ng-switch-when="0" class="harCaTaillightNormal" title="{{'harCaTaillight'|translate}}"></div>
                      <div ng-switch-when="1" class="harCabTaillightWarning" title="{{'harCaTaillight'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:21">
                      <div ng-switch-when="0" class="harAxialDifferentialLockNormal" title="{{'harAxialDifferentialLock'|translate}}"></div>
                      <div ng-switch-when="1" class="harAxialDifferentialLockWarning" title="{{'harAxialDifferentialLock'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:22">
                      <div ng-switch-when="0" class="harTakePowerNormal" title="{{'harTakePower'|translate}}"></div>
                      <div ng-switch-when="1" class="harTakePowerWarning" title="{{'harTakePower'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:23">
                      <div ng-switch-when="0" class="harOilPressureAlarmNormal" title="{{'harOilPressureAlarm'|translate}}"></div>
                      <div ng-switch-when="1" class="harOilPressureAlarmWarning" title="{{'harOilPressureAlarm'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:24">
                      <div ng-switch-when="0" class="harEngineFailureNormal" title="{{'harEngineFailure'|translate}}"></div>
                      <div ng-switch-when="1" class="harEngineFailureWarning" title="{{'harEngineFailure'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:25">
                      <div ng-switch-when="0" class="harGearboxFaultNormal" title="{{'harGearboxFault'|translate}}"></div>
                      <div ng-switch-when="1" class="harGearboxFaultWarning" title="{{'harGearboxFault'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:26">
                      <div ng-switch-when="0" class="harBatteryNormal" title="{{'harBattery'|translate}}"></div>
                      <div ng-switch-when="1" class="harBatteryWarning" title="{{'harBattery'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:27">
                      <div ng-switch-when="0" class="harPreheatingNormal" title="{{'harPreheating'|translate}}"></div>
                      <div ng-switch-when="1" class="harPreheatingWarning" title="{{'harPreheating'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:28">
                      <div ng-switch-when="0" class="harEngineTemperatureNormal" title="{{'harEngineTemperature'|translate}}"></div>
                      <div ng-switch-when="1" class="harEngineTemperatureWarning" title="{{'harEngineTemperature'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:29">
                      <div ng-switch-when="0" class="harUreaNormal" title="{{'harUrea'|translate}}"></div>
                      <div ng-switch-when="1" class="harUeaWarning" title="{{'harUrea'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:30">
                      <div ng-switch-when="0" class="harWIFNormal" title="{{'harWIF'|translate}}"></div>
                      <div ng-switch-when="1" class="harWFIWarning" title="{{'harWIF'|translate}}"></div>
                    </td>
                  </tr>
                  <tr>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:31">
                      <div ng-switch-when="0" class="harEngineCoolingLiquidLevelNormal" title="{{'harEngineCoolingLiquidLevel'|translate}}"></div>
                      <div ng-switch-when="1" class="harEngineCoolingLiquidLevelWarning" title="{{'harEngineCoolingLiquidLevel'|translate}}"></div>
                    </td>

                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:0">
                      <div ng-switch-when="0" class="harHighBeamNormal" title="{{'harHighBeam'|translate}}"></div>
                      <div ng-switch-when="1" class="harHighBeamWarning" title="{{'harHighBeam'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:1">
                      <div ng-switch-when="0" class="harClearanceLampNormal" title="{{'harClearanceLamp'|translate}}"></div>
                      <div ng-switch-when="1" class="harClearanceLampWarning" title="{{'harClearanceLamp'|translate}}"></div>
                    </td>

                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:2">
                      <div ng-switch-when="0" class="harLowAirPressureNormal" title="{{'harLowAirPressure'|translate}}"></div>
                      <div ng-switch-when="1" class="harLowAirPressureWarning" title="{{'harLowAirPressure'|translate}}"></div>
                    </td>

                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:3">
                      <div ng-switch-when="0" class="harDifferentialBetweenWheelNormal" title="{{'harDifferentialBetweenWheel'|translate}}"></div>
                      <div ng-switch-when="1" class="harDifferentialBetweenWheelWarning" title="{{'harDifferentialBetweenWheel'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:4">
                      <div ng-switch-when="0" class="harLowSpeedNormal" title="{{'harLowSpeed'|translate}}"></div>
                      <div ng-switch-when="1" class="harLowSpeedWarning" title="{{'harLowSpeed'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:5">
                      <div ng-switch-when="0" class="harParkingBrakeNormal" title="{{'harParkingBrake'|translate}}"></div>
                      <div ng-switch-when="1" class="harParkingBrakeWarning" title="{{'harParkingBrake'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:6">
                      <div ng-switch-when="0" class="harAirBlockNormal" title="{{'harAirBlock'|translate}}"></div>
                      <div ng-switch-when="1" class="harAirBlockWarning" title="{{'harAirBlock'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:7">
                      <div ng-switch-when="0" class="harCabFlipAlarmNormal" title="{{'harCabFlipAlarm'|translate}}"></div>
                      <div ng-switch-when="1" class="harCabFlipAlarmWarning" title="{{'harCabFlipAlarm'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:8">
                      <div ng-switch-when="0" class="harFuelOilLevelNormal" title="{{'harFuelOilLevel'|translate}}"></div>
                      <div ng-switch-when="1" class="harFuelOilLevelWarning" title="{{'harFuelOilLevel'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:9">
                      <div ng-switch-when="0" class="harHeightSpeedNormal" title="{{'harHeightSpeed'|translate}}"></div>
                      <div ng-switch-when="1" class="harHeightSpeedWarning" title="{{'harHeightSpeed'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:10">
                      <div ng-switch-when="0" class="harExhaustNormal" title="{{'harExhaust'|translate}}"></div>
                      <div ng-switch-when="1" class="harExhaustWarning" title="{{'harExhaust'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:11">
                      <div ng-switch-when="0" class="harCarLiftingNormal" title="{{'harCarLifting'|translate}}"></div>
                      <div ng-switch-when="1" class="harCarLiftingWarning" title="{{'harCarLifting'|translate}}"></div>
                    </td>

                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:12">
                      <div ng-switch-when="0" class="harFBrakePadsNormal" title="{{'harFBrakePads'|translate}}"></div>
                      <div ng-switch-when="1" class="harFBrakePadsWarning" title="{{'harFBrakePads'|translate}}"></div>
                    </td>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:13">
                      <div ng-switch-when="0" class="harRBrakePadsNormal" title="{{'harRBrakePads'|translate}}"></div>
                      <div ng-switch-when="1" class="harRBrakePadsWarning" title="{{'harRBrakePads'|translate}}"></div>
                    </td>
                  </tr>
                  <tr>
                    <td ng-switch on="deviceCurrentInfoCtrl.deviceinfo.ledStatus | limitTo:1:14">
                      <div ng-switch-when="0" class="harTransmissionOilTemperatureNormal" title="{{'harTransmissionOilTemperature'|translate}}"></div>
                      <div ng-switch-when="1" class="harTransmissionOilTemperatureWarning" title="{{'harTransmissionOilTemperature'|translate}}"></div>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <!--矿机 LED end -->
          </div>
          <div class="row">
            <!--数据详情展示begin-->
            <div class="col-md-12">
              <div class="row detailMargin">
                <table class="table table-striped" ng-init="rowInx=0">
                  <tr>
                    <th>{{'name'|translate}}</th>
                    <th>{{'state'|translate}}</th>
                    <th>{{'name'|translate}}</th>
                    <th>{{'state'|translate}}</th>
                    <th>{{'name'|translate}}</th>
                    <th>{{'state'|translate}}</th>
                  </tr>
                  <tr>
                    <!--终端编号-->
                    <td>{{'terminalNumber'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.deviceNum}}</td>

                    <td>{{'GPSVelocity'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.gpsSpeed | number:2}}</td>

                    <!--定位所用时间-->
                    <td>{{'locateDuration'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateDuration!=null && deviceCurrentInfoCtrl.deviceinfo.locateDuration<9999">{{deviceCurrentInfoCtrl.deviceinfo.locateDuration}}/{{'sec'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateDuration>=9999">{{'noMessage'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateDuration==null">{{'noData' |translate}}</td>
                  </tr>
                  <tr>
                    <!--是否定位-->
                    <td>{{'whetherPositioning'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateStatus=='A'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='01'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='1'" class="bg-info text-info">{{'hasBeenpositioning'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateStatus=='V'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='00'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='0'" class="bg-danger text-danger">{{'notLocate'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateStatus==null">{{'noData'|translate}}</td>
                    <!--定位时间-->
                    <td>{{'positioningTime'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateStatus=='A'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='01'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='1'" ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.locateDateTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.locateStatus=='V'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='00'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='0'||deviceCurrentInfoCtrl.deviceinfo.locateStatus == null">未定位</td>
                    <!--回传时间-->
                    <td>{{'returnTime'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.lastDataUploadTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                  </tr>
                  <tr>
                    <!--车辆类型-->
                    <td >{{'vehicleType'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.machine==null">{{'noMessage'|translate}}</td>
                    <td ng-cloak ng-if="null!=deviceCurrentInfoCtrl.deviceinfo.machine">{{deviceCurrentInfoCtrl.deviceinfo.machine.engineType.engineName}}</td>
                    <!--车号-->
                    <td>{{'machineNumberAndCarNumber'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.machine==null">{{'noMessage'|translate}}</td>
                    <td ng-cloak ng-if="null!=deviceCurrentInfoCtrl.deviceinfo.machine">{{deviceCurrentInfoCtrl.deviceinfo.machine.licenseId}}</td>
                    <!--ecu和gps绑定状态-->
                    <td>{{'ecuLockStatus'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.deviceinfo.ecuLockStatus}}</td>
                  <tr>
                    <!--燃油液位（油位）-->
                    <td>{{'fuelLevel'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.oilLevel}}%</td>
                    <!--冷却剂温度（水温）-->
                    <td>{{'coolantTemperature'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.engineTemperature}}°C</td>
                    <!--运行总时间(小时)-->
                    <td>{{'totalRunningTimeHour'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.totalDuration | convertToMins}}</td>
                  </tr>
                  <tr>
                    <!--CAN通信状态-->
                    <td>{{'CANCommunicationStatus'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.commStatus=='10'||deviceCurrentInfoCtrl.deviceinfo.commStatus=='0'" class="bg-danger text-danger">{{'notWork'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.commStatus=='01'||deviceCurrentInfoCtrl.deviceinfo.commStatus=='1'" class="bg-info text-info">{{'work'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.commStatus==null">{{'noData'|translate}}</td>
                    <!--供电方式-->
                    <td>{{'powerSupplyMode'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.powerType=='00' || deviceCurrentInfoCtrl.deviceinfo.powerType=='1'">{{'vehicleMountedPowerSupply'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.powerType=='01' || deviceCurrentInfoCtrl.deviceinfo.powerType=='0'">{{'internalBattery'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.powerType==null">{{'noData'|translate}}</td>
                  </tr>
                  <tr>
                    <!--实时工时-->
                    <td>{{'realTimeWorkH'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.realTimeDuration | convertToMins}}</td>
                    <!--gprs信号百分比-->
                    <td>{{'GPRSSignalQuality'|translate}}</td>
                    <td ng-cloak>{{(deviceCurrentInfoCtrl.deviceinfo.gsmSignal/31)*100 | number:0}}%</td>
                    <!--车载蓄电池电压-->
                    <td>{{'vehicleMountedBatteryVoltage'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.batteryVol| number:2}} V</td>
                  </tr>
                  <tr>
                    <!--启动次数-->
                    <td>{{'numberOfStarts'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.startTimes}}</td>
                    <!--TODO 目前矿车没有锁车功能,先注释掉，后续添加  by yalong.shang -->
                    <!--锁车状态-->
                    <!--<td>{{'lockedCarStatus'|translate}}</td>-->
                    <!--<td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockStatus=='00'" class="bg-info text-info">{{'Unlock'|translate}}</td>-->
                    <!--<td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockStatus=='01'" class="bg-warning text-warning">{{'one-level'|translate}}</td>-->
                    <!--<td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockStatus=='10'" class="bg-danger text-danger">{{'lockYourCar'|translate}}</td>-->
                    <!--<td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockStatus==null">{{'noData'|translate}}</td>-->
                    <!--acc 开关状态-->
                    <td>{{'ACCState'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.accStatus=='01' || deviceCurrentInfoCtrl.deviceinfo.accStatus=='1'" class="bg-info text-info">ON</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.accStatus=='10' || deviceCurrentInfoCtrl.deviceinfo.accStatus=='0'" class="bg-danger text-danger">OFF</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.accStatus==null">{{'noData'|translate}}</td>
                    <!--开盖状态-->
                    <td>{{'openCoverState'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockerStatus=='00' || deviceCurrentInfoCtrl.deviceinfo.lockerStatus=='0'">{{'notOpen'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockerStatus=='11' || deviceCurrentInfoCtrl.deviceinfo.lockerStatus=='1'">{{'openCover'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.lockerStatus==null">{{'noData'|translate}}</td>
                  </tr>
                  <tr ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'">
                    <!--发电机状态-->
                    <td>{{'generatorState'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.elecStatus=='01'" class="bg-info text-info">{{'work'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.elecStatus=='10'" class="bg-danger text-danger">{{'notWork'|translate}}</td>
                    <td ng-if="(deviceCurrentInfoCtrl.deviceinfo.elecStatus!=='01'&&deviceCurrentInfoCtrl.deviceinfo.elecStatus!=='10')||deviceCurrentInfoCtrl.deviceinfo.elecStatus==null">{{'noData'|translate}}</td>
                    <!--内部电源电压-->
                    <td>{{'GPSPowerDetection'|translate}}</td>
                    <td ng-cloak>{{deviceCurrentInfoCtrl.deviceinfo.imitate1/1000| number:1}} V</td>
                  </tr>
                  <tr ng-if="!((deviceCurrentInfoCtrl.deviceinfo.locateStatus=='A'||deviceCurrentInfoCtrl.deviceinfo.locateStatus=='01') && (deviceCurrentInfoCtrl.deviceinfo.visibleSatelliteNumber==0 || deviceCurrentInfoCtrl.deviceinfo.visibleSatelliteNumber==null))">
                    <!--可见卫星-->
                    <td>{{'visibleSatelliteNumber'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.visibleSatelliteNumber!=null">{{deviceCurrentInfoCtrl.deviceinfo.visibleSatelliteNumber}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.visibleSatelliteNumber==null">{{'noData' |translate}}</td>
                    <!--可用卫星-->
                    <td>{{'usableSatelliteNumber'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.usableSatelliteNumber!=null">{{deviceCurrentInfoCtrl.deviceinfo.usableSatelliteNumber}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.usableSatelliteNumber==null">{{'noData' |translate}}</td>

                    <!--机油压力-->
                    <td >{{'oilPress'|translate}}</td>
                    <td >{{deviceCurrentInfoCtrl.deviceinfo.oilPress}}KPa</td>
                  </tr>
                  <tr>
                      <!--车载电压-->
                      <td>{{'batteryVol'|translate}}</td>
                      <td>{{deviceCurrentInfoCtrl.deviceinfo.batteryVol | number:2}}V</td>
                      <!--时速-->
                      <td>{{'mph'|translate}}</td>
                      <td>{{deviceCurrentInfoCtrl.deviceinfo.mph | number:2}}km/H</td>
                      <!--气压表2-->
                      <td>{{'pressureMeter'|translate}}</td>
                      <td>{{deviceCurrentInfoCtrl.deviceinfo.pressureMeter2 | number:2}}MPa</td>
                  </tr>
                  <tr>
                    <!--累计里程-->
                    <td>{{'totalMileage'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.deviceinfo.totalMileage | number:2}}KM</td>
                    <!--阶段工作时间-->
                    <td>{{'momentWorkTime'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.deviceinfo.momentWorkTime | convertToMins}} </td>
                    <!--阶段里程-->
                    <td>{{'momentMileage'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.deviceinfo.momentMileage | number:2}}KM</td>
                  </tr>
                  <tr >

                    <!--实际绑定车架号-->
                    <td ng-if="userInfo.userdto.organizationDto.id==1">{{'bindMachineId'|translate}}</td>
                    <td ng-if="userInfo.userdto.organizationDto.id==1">{{deviceCurrentInfoCtrl.deviceinfo.bindMachineId}}</td>

                    <!--协议版本号-->
                    <!--GPS协议版本号，实际绑定车号，运行监控，ID,LED状态这几个状态信息对用户不显示，仅仅北谷生产组织下的用户可以查看-->
                    <td ng-if="userInfo.userdto.organizationDto.id==1">{{'GPSProtocolVersion'|translate}}</td>
                    <td ng-cloak ng-if="userInfo.userdto.organizationDto.id==1">{{deviceCurrentInfoCtrl.deviceinfo.versionNum}}</td>

                  </tr>
                  <!--sim卡序列号-->
                  <tr ng-if="null!=deviceCurrentInfoCtrl.deviceinfo.simCardSerialNum">
                    <td>{{'simCardSerialNum'|translate}}</td>
                    <td colspan="5">{{deviceCurrentInfoCtrl.deviceinfo.simCardSerialNum}}</td>
                  </tr>
                </table>
                <!--当前位置-->
                <table class="table table-striped" ng-init="rowInx=0">
                  <tr>
                    <td>{{'currentPosition'|translate}}</td>
                    <td class="text-nowrap">{{deviceCurrentInfoCtrl.deviceinfo.address}}  {{'longitude'|translate}}:{{deviceCurrentInfoCtrl.deviceinfo.amaplongitudeNum| number:5}}  {{'latitude'|translate}}:{{deviceCurrentInfoCtrl.deviceinfo.amaplatitudeNum| number:5}}</td>
                  </tr>
                </table>
              </div>
            </div>
            <!--数据详情展示end-->
          </div>
        </div>
      </div>
    </uib-tab>

    <!--历史数据-->
    <uib-tab select=""  presentation-href="dashboard:deviceMonitor:historyData">
      <uib-tab-heading>
        {{'historicalData'|translate}}
      </uib-tab-heading>
      <div class="modal-body" >
        <div class="box-body"  >
          <div class="row">
            <div class="col-md-1">
              <label class="control-label text-nowrap">{{'startDate'|translate}}:</label>
            </div>
            <div class="col-md-3">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{formatCustomTime}}" ng-model="deviceCurrentInfoCtrl.startDateDeviceData" is-open="deviceCurrentInfoCtrl.startDateOpenStatusDeviceData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" min-date="deviceCurrentInfoCtrl.minDate" max-date="deviceCurrentInfoCtrl.maxDate" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.startDateOpenDeviceData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
              </p>
            </div>
            <div class="col-md-1">
              <label class="control-label text-nowrap">{{'endDate'|translate}}:</label>
            </div>
            <div class="col-md-3">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{formatCustomTime}}" ng-model="deviceCurrentInfoCtrl.endDateDeviceData" is-open="deviceCurrentInfoCtrl.endDateOpenStatusDeviceData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.endDateOpenDeviceData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
              </p>
            </div>
            <div class="col-md-1">
              <button class="btn btn-primary" type="button" presentation-href="dashboard:deviceMonitor:historyData:query" ng-click="deviceCurrentInfoCtrl.getDeviceData(0,8,null,deviceCurrentInfoCtrl.totalElements,true,
                deviceCurrentInfoCtrl.deviceinfo.deviceNum,deviceCurrentInfoCtrl.deviceinfo.versionNum,deviceCurrentInfoCtrl.startDateDeviceData,deviceCurrentInfoCtrl.endDateDeviceData)">{{'confirm'|translate}}</button>
            </div>
            <div class="col-md-3">
              <a class="btn" presentation-href="device:monitorPage" title="Export Table" presentation-href="dashboard:deviceMonitor:historyData:export"  ng-click='csv.generate()' ng-href="{{csv.link()}}" download="{{deviceCurrentInfoCtrl.deviceinfo.deviceNum}}{{'historicalData'|translate}}.csv">导出当前页</a>
              <a class="btn" presentation-href="device:monitorPage" title="Export Table" presentation-href="dashboard:deviceMonitor:historyData:export"  ng-click="deviceCurrentInfoCtrl.excelExport(deviceCurrentInfoCtrl.deviceinfo.deviceNum,deviceCurrentInfoCtrl.deviceinfo.versionNum,deviceCurrentInfoCtrl.startDateDeviceData,deviceCurrentInfoCtrl.endDateDeviceData)">全部导出</a>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="table-responsive">
                <table class="table" ng-table="deviceinfoMngCtrl.tableParams" export-csv='csv'>
                  <tr>
                    <!--数据回传时间-->
                    <th class="text-nowrap">{{'dataReturnTime'|translate}}</th>
                    <!--定位时间-->
                    <th class="text-nowrap">{{'positioningTime'|translate}}</th>
                    <!--位置-->
                    <th class="text-nowrap">{{'position'|translate}}</th>
                    <!--gpsSpeed 速度-->
                    <th class="text-nowrap">{{'speed'|translate}}</th>
                    <!--总工时-->
                    <th class="text-nowrap">{{'totalProductiveHours'|translate}}</th>
                    <!--燃油液位-->
                    <th class="text-nowrap">{{'fuelLevel'|translate}}</th>
                    <!--发动机转速-->
                    <th class="text-nowrap">{{'engineSpeed'|translate}}</th>
                    <!--水温-->
                    <th class="text-nowrap">{{'waterTemperature'|translate}}</th>
                    <!--串口通信状态-->
                    <th class="text-nowrap">{{'CANCommunicationStatus'|translate}}</th>
                    <!--供电方式-->
                    <th class="text-nowrap">{{'powerSupplyMode'|translate}}</th>
                    <!--变矩器油温-->
                    <th class="text-nowrap">{{'torqueConverterOilTemperature'|translate}}</th>
                    <!--制动气压-->
                    <th class="text-nowrap">{{'brakePressure'|translate}}</th>
                    <!--gsm信号质量-->
                    <th class="text-nowrap">{{'GPRSSignalQuality'|translate}}</th>
                    <!--运行监控-->
                    <th class="text-nowrap" ng-if="userInfo.userdto.organizationDto.id==1&&deviceCurrentInfoCtrl.validateMonitorShowPermission()&&deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'">{{'operationMonitoring'|translate}}</th>
                    <!--led状态-->
                    <th class="text-nowrap" ng-if="userInfo.userdto.organizationDto.id==1">{{'LEDState'|translate}}</th>
                    <!--实时工时-->
                    <th class="text-nowrap">{{'realTimeWork'|translate}}</th>
                    <!--启动次数-->
                    <th class="text-nowrap">{{'numberOfStarts'|translate}}</th>
                    <!--TODO 目前矿车没有锁车功能,先注释掉，后续添加  by yalong.shang -->
                    <!--TODO 锁车状态-->
                    <!--<th class="text-nowrap">{{'lockedCarStatus'|translate}}</th>-->
                    <!--ACC状态-->
                    <th class="text-nowrap">{{'ACCState'|translate}}</th>
                    <!--发电机状态-->
                    <th class="text-nowrap" ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'">{{'generatorState'|translate}}</th>
                    <!--GPS电源检测和模拟量1是相同的-->
                    <th class="text-nowrap" ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'">{{'GPSPowerDetection'|translate}}</th>
                    <!--模拟量2-->
                    <th class="text-nowrap">{{'Built-inBatteryRealTime'|translate}}</th>
                    <!--电压-->
                    <th class="text-nowrap">{{'vehicleMountedBatteryVoltage'|translate}}</th>
                    <!--开盖状态-->
                    <th class="text-nowrap">{{'openCoverState'|translate}}</th>
                    <!--可见卫星数-->
                    <th  class="text-nowrap">{{'visibleSatelliteNumber'|translate}}</th>
                    <!--可用卫星数-->
                    <th  class="text-nowrap">{{'usableSatelliteNumber'|translate}}</th>
                    <!--定位所用时间-->
                    <th  class="text-nowrap">{{'locateDuration'|translate}}</th>
                    <!--TODO 目前矿车没有锁车功能,先注释掉，后续添加  by yalong.shang -->
                    <!--ECU锁车状态-->
                    <!--<th  class="text-nowrap">{{'ecuLockStatus'|translate}}</th>-->
                    <!--实际绑定车号-->
                    <th  class="text-nowrap" ng-if="userInfo.userdto.organizationDto.id==1">{{'bindMachineId'|translate}}</th>
                    <th  class="text-nowrap">累计里程</th>
                    <th  class="text-nowrap">气压表2</th>
                    <th  class="text-nowrap">机油压力</th>
                    <th  class="text-nowrap">阶段工作时间</th>
                    <th  class="text-nowrap">阶段里程</th>
                  </tr>
                  <tr ng-repeat="deviceData in deviceCurrentInfoCtrl.deviceDataList" >
                    <!--数据回传时间-->
                    <td ng-cloak class="text-nowrap">{{deviceData.recordTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <!--定位时间-->
                    <td ng-cloak ng-if="deviceData.locateStatus=='A' || deviceData.locateStatus=='01'" class="text-nowrap">{{deviceData.locateDateTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-cloak ng-if="deviceData.locateStatus=='V' || deviceData.locateStatus=='00' || deviceData.locateStatus==null" class="text-nowrap">--</td>
                    <!--位置-->
                    <td ng-cloak ng-if="(deviceData.locateStatus=='A'|| deviceData.locateStatus=='01') && deviceData.address!=null" class="text-nowrap" style="min-width: 300px">{{deviceData.address}}</td>
                    <td ng-cloak ng-if="deviceData.locateStatus=='V' || deviceData.locateStatus=='00' || deviceData.locateStatus==null || deviceData.address==null" class="text-nowrap" style="min-width: 300px">--</td>
                    <!--gpsSpeed 速度-->
                    <td ng-cloak>{{deviceData.gpsSpeed | number:2}}</td>
                    <!--总工时-->
                    <td ng-cloak class="text-nowrap">{{deviceData.totalDuration | convertToMins }}</td>
                    <!--燃油液位-->
                    <td ng-if="deviceData.oilLevel!=null" ng-cloak>{{deviceData.oilLevel}}%</td>
                    <td ng-if="deviceData.oilLevel==null" ng-cloak></td>
                    <!--发动机转速-->
                    <td ng-cloak>{{deviceData.engineRotate | number:2}}</td>
                    <!--水温-->
                    <td ng-cloak>{{deviceData.engineTemperature}}</td>
                    <!--串口通信状态-->
                    <td ng-if="deviceData.commStatus=='10' || deviceData.commStatus=='0'" class="bg-danger text-danger">{{'exception'|translate}}</td>
                    <td ng-if="deviceData.commStatus=='01' || deviceData.commStatus=='1'" class="bg-info text-info">{{'normal'|translate}}</td>
                    <td ng-if="deviceData.commStatus==null">{{'noData'|translate}}</td>
                    <!--供电方式-->
                    <td ng-if="deviceData.powerType=='00' || deviceData.powerType=='1'">{{'vehicleMountedPowerSupply'|translate}}</td>
                    <td ng-if="deviceData.powerType=='01' || deviceData.powerType=='0'">{{'internalBattery'|translate}}</td>
                    <td ng-if="deviceData.powerType==null">{{'noData'|translate}}</td>
                    <!--变矩器油温-->
                    <td ng-if="deviceData.oilTemperature!=null" ng-cloak>{{deviceData.oilTemperature | number:0}}°C</td>
                    <td ng-if="deviceData.oilTemperature==null" ng-cloak></td>
                    <!--制动气压-->
                    <td ng-if="deviceData.pressureMeter!=null" ng-cloak>{{deviceData.pressureMeter | number:2}}MPa</td>
                    <td ng-if="deviceData.pressureMeter==null" ng-cloak></td>
                    <!--gsm信号质量-->

                    <td ng-if="deviceData.gsmSignal!=null" ng-cloak>{{(deviceData.gsmSignal/31)*100 | number:0}}%</td>
                    <td ng-if="deviceData.gsmSignal==null" ng-cloak></td>
                    <!--作业监控-->
                    <td ng-cloak ng-if="deviceCurrentInfoCtrl.validateMonitorShowPermission()&&userInfo.userdto.organizationDto.id==1&&deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'">{{deviceData.workMonitor}}</td>
                    <!--led状态-->
                    <td ng-cloak ng-if="userInfo.userdto.organizationDto.id==1">{{deviceData.ledStatus}}</td>
                    <!--实时工时-->
                    <td ng-cloak class="text-nowrap">{{deviceData.realTimeDuration | convertToMins}}</td>
                    <!--启动次数-->
                    <td ng-cloak>{{deviceData.startTimes}}</td>
                    <!--TODO 目前矿车没有锁车功能,先注释掉，后续添加  by yalong.shang -->
                    <!--TODO 锁车状态-->
                    <!--<td ng-if="deviceData.lockStatus=='00'" class="bg-info text-info">{{'normal'|translate}}</td>-->
                    <!--<td ng-if="deviceData.lockStatus=='01'" class="bg-warning text-warning">{{'one-level'|translate}}</td>-->
                    <!--<td ng-if="deviceData.lockStatus=='10'" class="bg-danger text-danger">{{'two-level'|translate}}</td>-->
                    <!--<td ng-if="deviceData.lockStatus==null" class="bg-danger text-warning">-</td>-->
                    <!--ACC状态-->
                    <td ng-if="deviceData.accStatus=='01' || deviceData.accStatus=='1'" class="bg-info text-info">ON</td>
                    <td ng-if="deviceData.accStatus=='10' || deviceData.accStatus=='0'" class="bg-danger text-danger">OFF</td>
                    <td ng-if="deviceData.accStatus==null">{{'noData'|translate}}</td>
                    <!--发电机状态-->
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'&&deviceData.elecStatus=='01'" class="bg-info text-info">{{'work'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'&&deviceData.elecStatus=='10'" class="bg-danger text-danger">{{'notWork'|translate}}</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'&&((deviceData.elecStatus!=='01'&&deviceData.elecStatus!=='10')||deviceData.elecStatus==null)">{{'noData'|translate}}</td>
                    <!--GPS电源检测和模拟量1是相同的-->
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'&&deviceData.imitate1!=null" ng-cloak>{{deviceData.imitate1/1000 | number:1}}V</td>
                    <td ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum!='1001'&&deviceData.imitate1==null" ng-cloak></td>
                    <!--模拟量2-->
                    <td ng-if="deviceData.imitate2!=null" ng-cloak>{{deviceData.imitate2/1000 | number:1}}V</td>
                    <td ng-if="deviceData.imitate2==null" ng-cloak></td>
                    <!--电压-->
                    <td ng-if="deviceData.batteryVol!=null" ng-cloak>{{deviceData.batteryVol| number:2}}V</td>
                    <td ng-if="deviceData.batteryVol==null" ng-cloak></td>
                    <!--开盖状态-->
                    <td ng-if="deviceData.lockerStatus=='00' || deviceData.lockerStatus=='0'">{{'notOpen'|translate}}</td>
                    <td ng-if="deviceData.lockerStatus=='11' || deviceData.lockerStatus=='1'">{{'openCover'|translate}}</td>
                    <td ng-if="deviceData.lockerStatus==null">{{'noData'|translate}}</td>
                    <!--可见卫星数-->
                    <td  ng-cloak>{{deviceData.visibleSatelliteNumber}}</td>
                    <!--可用卫星数-->
                    <td  ng-cloak>{{deviceData.usableSatelliteNumber}}</td>
                    <!--定位所用时间-->
                    <td  ng-cloak>{{deviceData.locateDuration}}</td>
                    <!--TODO 目前矿车没有锁车功能,先注释掉，后续添加  by yalong.shang -->
                    <!--ECU锁车状态-->
                    <!--<td  ng-cloak>{{deviceData.ecuLockStatus}}</td>-->
                    <!--实际绑定车号-->
                    <td  ng-cloak ng-if="userInfo.userdto.organizationDto.id==1&&deviceDate.bindMachineId!=null">{{deviceData.bindMachineId}}</td>
                    <td  ng-cloak ng-if="userInfo.userdto.organizationDto.id==1&&deviceDate.bindMachineId==null">{{deviceCurrentInfoCtrl.deviceinfo.bindMachineId}}</td>
                    <!--累计里程-->
                    <td ng-if="deviceData.totalMileage!=null" ng-cloak>{{deviceData.totalMileage | number:2}}KM</td>
                    <td ng-if="deviceData.totalMileage==null" ng-cloak></td>
                    <!--气压表2-->
                    <td ng-if="deviceData.pressureMeter2!=null" ng-cloak>{{deviceData.pressureMeter2 | number:2}}MPa</td>
                    <td ng-if="deviceData.pressureMeter2==null" ng-cloak></td>
                    <!--机油压力-->
                    <td ng-if="deviceData.oilPress!=null" ng-cloak>{{deviceData.oilPress}}KPa</td>
                    <td ng-if="deviceData.oilPress==null" ng-cloak></td>
                    <!--阶段工作时间-->
                    <td  ng-cloak class="text-nowrap">{{deviceData.momentWorkTime | convertToMins}}</td>
                    <!--阶段里程-->
                    <td ng-if="deviceData.momentMileage!=null" ng-cloak>{{deviceData.momentMileage | number:2}}KM</td>
                    <td ng-if="deviceData.momentMileage==null" ng-cloak></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <uib-pagination total-items="deviceCurrentInfoCtrl.deviceDataPage.totalElements" ng-change="deviceCurrentInfoCtrl.getDeviceData(deviceCurrentInfoCtrl.deviceDataPageNumber-1,8,null,deviceCurrentInfoCtrl.totalElements,false,
                  deviceCurrentInfoCtrl.deviceinfo.deviceNum,deviceCurrentInfoCtrl.deviceinfo.versionNum,deviceCurrentInfoCtrl.startDateDeviceData,deviceCurrentInfoCtrl.endDateDeviceData)" max-size="10" ng-model="deviceCurrentInfoCtrl.deviceDataPageNumber" items-per-page="deviceCurrentInfoCtrl.deviceDataPage.size" class="pagination-sm" boundary-links="true" rotate="false" first-text="{{'pagingHomePage' | translate}}" last-text="{{'lastPage'|translate}}" next-text="{{'nextPage'|translate}}" previous-text="{{'previousPage'|translate}}"></uib-pagination>
            </div>
          </div>
        </div>
      </div>
    </uib-tab>

    <!--报警数据-->
    <uib-tab select="" presentation-href="dashboard:deviceMonitor:warningData">
      <uib-tab-heading>
        {{'warningData'|translate}}
      </uib-tab-heading>
      <div class="modal-body">
        <div class="box-body">
          <div class="row">
            <div class="col-md-2">
              <label class="control-label">{{'startDate'|translate}}:</label>
            </div>
            <div class="col-md-3">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{formatCustom}}" ng-model="deviceCurrentInfoCtrl.startDateDeviceWarningData" is-open="deviceCurrentInfoCtrl.startDateOpenStatusDeviceWarningData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" min-date="deviceCurrentInfoCtrl.minDate" max-date="deviceCurrentInfoCtrl.maxDate" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.startDateOpenDeviceWarningData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
              </p>
            </div>
            <div class="col-md-2">
              <label class="control-label">{{'endDate'|translate}}:</label>
            </div>
            <div class="col-md-3">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{formatCustom}}" ng-model="deviceCurrentInfoCtrl.endDateDeviceWarningData" is-open="deviceCurrentInfoCtrl.endDateOpenStatusDeviceWarningData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.endDateOpenDeviceWarningData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
              </p>
            </div>
            <div class="col-md-2">
              <button class="btn btn-primary" type="button" ng-click="deviceCurrentInfoCtrl.getDeviceWarningData(0,8,null,deviceCurrentInfoCtrl.deviceinfo.deviceNum,deviceCurrentInfoCtrl.startDateDeviceWarningData,deviceCurrentInfoCtrl.endDateDeviceWarningData)">{{'confirm'|translate}}</button>
            </div>

          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="table-responsive">
                <!-- Default panel contents -->
                <!-- Table -->
                <table class="table">
                  <tr>
                    <th class="text-nowrap">{{'terminalNumber'|translate}}</th>
                    <th class="text-nowrap">{{'alarmTime'|translate}}</th>
                    <th class="text-nowrap">{{'dataReturnTime'|translate}}</th>
                    <th class="text-nowrap">{{'faultContent'|translate}}</th>
                  </tr>
                  <tr ng-repeat="deviceWarningData in deviceCurrentInfoCtrl.deviceWarningDataList">
                    <td ng-cloak class="text-nowrap">{{deviceWarningData.deviceNum}}</td>
                    <td ng-cloak class="text-nowrap">{{deviceWarningData.warningTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-cloak class="text-nowrap">{{deviceWarningData.recordTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-cloak class="text-nowrap">{{deviceWarningData.warningMsg}}</td>
                  </tr>

                </table>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <uib-pagination total-items="deviceCurrentInfoCtrl.deviceWarningDataPage.totalElements" ng-change="deviceCurrentInfoCtrl.getDeviceWarningData(deviceCurrentInfoCtrl.deviceWarningDataPageNumber-1,8,null,deviceCurrentInfoCtrl.deviceinfo.deviceNum,deviceCurrentInfoCtrl.startDateDeviceWarningData,deviceCurrentInfoCtrl.endDateDeviceWarningData)" max-size="10" ng-model="deviceCurrentInfoCtrl.deviceWarningDataPageNumber" items-per-page="deviceCurrentInfoCtrl.deviceWarningDataPage.size" class="pagination-sm" boundary-links="true" rotate="false" first-text="{{'pagingHomePage'|translate}}" last-text="{{'lastPage'|translate}}" next-text="{{'nextPage'|translate}}" previous-text="{{'previousPage'|translate}}"></uib-pagination>
            </div>
          </div>
        </div>
      </div>
    </uib-tab>

    <!--地图-->
    <uib-tab select="deviceCurrentInfoCtrl.initMapTab(deviceCurrentInfoCtrl.deviceinfo)" presentation-href="dashboard:deviceMonitor:map">
      <uib-tab-heading>
        {{'map'|translate}}
      </uib-tab-heading>
      <div class="modal-body"  style=" overflow-y:scroll; overflow-x:hidden; height:500px;">
        <div class="row">
          <div class="col-md-1">
            <label class="control-label text-nowrap">{{'startDate'|translate}}:</label>
          </div>
          <div class="col-md-3">
            <p class="input-group">
              <input type="text" class="form-control" uib-datepicker-popup="{{formatCustomTime}}" ng-model="deviceCurrentInfoCtrl.startDateMapData" is-open="deviceCurrentInfoCtrl.startDateOpenStatusMapData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" min-date="deviceCurrentInfoCtrl.minDate" max-date="deviceCurrentInfoCtrl.maxDate" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.startDateOpenMapData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
            </p>
          </div>
          <div class="col-md-1">
            <label class="control-label text-nowrap">{{'endDate'|translate}}:</label>
          </div>
          <div class="col-md-3">
            <p class="input-group">
              <input type="text" class="form-control" uib-datepicker-popup="{{formatCustomTime}}" ng-model="deviceCurrentInfoCtrl.endDateMapData" is-open="deviceCurrentInfoCtrl.endDateOpenStatusMapData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.endDateOpenMapData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
            </p>
          </div>
          <div class="col-md-1">
            <button class="btn btn-primary" type="button" presentation-href="dashboard:deviceMonitor:map:query" ng-click="deviceCurrentInfoCtrl.getDeviceMapData(0,10000,null,deviceCurrentInfoCtrl.deviceinfo.deviceNum,deviceCurrentInfoCtrl.deviceinfo.versionNum,deviceCurrentInfoCtrl.startDateMapData,deviceCurrentInfoCtrl.endDateMapData)">{{'confirm'|translate}}</button>
          </div>
          <div class="col-md-3 btn-group " role="group" >
            <button id="start" class="btn btn-sm" type="button" presentation-href="dashboard:deviceMonitor:map:query">{{'startAnimation'|translate}}</button>
            <button id="stop" class="btn  btn-sm" type="button" presentation-href="dashboard:deviceMonitor:map:query">{{'endAnimation'|translate}}</button>
            <button id="move" class="btn  btn-sm" type="button" presentation-href="dashboard:deviceMonitor:map:query">{{'moveAnimation'|translate}}</button>
          </div>
        </div>

        <div ng-show="deviceCurrentInfoCtrl.lnglatShow">
          <input type="text" id="lnglat" class="form-control" placeholder="经纬度" name="lnglat" style="width: 200px;float: right"/>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="box-body" style="height: 600px" id="deviceDetailMap"></div>
          </div>
        </div>
      </div>
    </uib-tab>

    <!--远程控制-->
    <uib-tab select="" presentation-href="device:remoteControl" presentation-href="dashboard:deviceMonitor:remoteControl">
      <uib-tab-heading>
        {{'telecontrol'|translate}}
      </uib-tab-heading>
      <div class="modal-body" style=" overflow-y:scroll; overflow-x:hidden; height:500px;">
        <div class="box-body">
          <div class="row">
            <div class="form-group">
              <label for="deviceNum" class="col-md-2 control-label text-nowrap">{{'deviceNum'|translate}}</label>
              <div class="col-md-4">
                <input type="text" readonly id="deviceNum" class="form-control" placeholder="{{'deviceNum'|translate}}"
                       ng-model="deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum" name="deviceNum"/>
              </div>
              <label for="licenseId" class="col-md-2 control-label text-nowrap">{{'licensePlateNumber'|translate}}</label>

              <div class="col-md-4">
                <input type="text" readonly id="licenseId" class="form-control" placeholder="{{'licensePlateNumber'|translate}}"
                       ng-model="deviceCurrentInfoCtrl.deviceUnLockFactor.licenseId" name="licenseId"/>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="form-group">
              <label for="phoneNumber" class="col-md-2 control-label text-nowrap">{{'bindSIMNumber'|translate}}</label>

              <div class="col-md-4">
                <input type="text" readonly id="phoneNumber" class="form-control" placeholder="{{'bindSIMNumber'|translate}}"
                       ng-model="deviceCurrentInfoCtrl.deviceUnLockFactor.phoneNumber" name="phoneNumber"/>
              </div>
              <label for="ecuLockStatus" class="col-md-2 control-label text-nowrap">{{'ecuLockStatus'|translate}}</label>
              <div class="col-md-4">
                <input type="text" readonly id="ecuLockStatus" class="form-control"
                       ng-model="deviceCurrentInfoCtrl.deviceinfo.ecuLockStatus" name="enginePassCode"/>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="form-group">
              <label for="bindMachineId" class="col-md-2 control-label text-nowrap">{{'bindMachineId'|translate}}</label>
              <div class="col-md-4">
                <input type="text" readonly id="bindMachineId" class="form-control"
                       ng-model="deviceCurrentInfoCtrl.deviceinfo.bindMachineId" name="bindMachineId"/>
              </div>

            </div>
          </div>

          <!--gps上传上来的绑定设备信息和锁车状态-->
          <hr>

          <div class="panel-group" id="smsCtrl" presentation-href="dashboard:deviceMonitor:remoteControl">
            <div class="panel panel-success">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a ng-click="smsCtrl = !smsCtrl" href="">
                    <div class="row">
                      <div class="col-md-12 text-center">{{'telecontrol'|translate}}</div>
                    </div>
                  </a>
                </h4>
              </div>
              <div id="smsCtrlContent" class="panel-collapse collapse"  ng-class="{in: smsCtrl}">
                <div class="panel-body">

                  <div class="row">

                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:smsControl:setIp">
                      <div class="box box-success">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'setTheReturnAddressMessage'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="设置GPS设备回传地址"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="row">
                                <label for="serverHost" class="col-md-2 control-label text-nowrap">{{'returnAddress'|translate}}</label>
                              </div>
                              <div class="row" presentation-href="sms:setIpSMS">
                                <div class="col-md-12">
                                  <input type="text" id="serverHost" class="form-control" placeholder="{{'returnAddress'|translate}}"
                                         ng-model="deviceCurrentInfoCtrl.serverHost" name="serverHost"/>
                                </div>
                              </div>
                            </div>

                            <div class="col-md-3">
                              <div class="row">
                                <label for="serverPort" class="col-md-2 control-label text-nowrap">{{'portNumber'|translate}}</label>
                              </div>
                              <div class="row" presentation-href="sms:setIpSMS">
                                <div class="col-md-12">
                                  <input type="text" id="serverPort" class="form-control" placeholder="{{'portNumber'|translate}}"
                                         ng-minlength='4' ng-maxlength='5' validator="number" ng-model="deviceCurrentInfoCtrl.serverPort" name="serverPort"/>
                                  <span class="error text-danger" ng-show="deviceDetailForm.serverPort.$error.maxlength">{{'theLongestFive'|translate}}</span>
                                  <span class="error text-danger" ng-show="deviceDetailForm.serverPort.$error.minlength">{{'theShortestFour'|translate}}</span>
                                </div>
                              </div>
                            </div>

                            <div class="col-md-3">
                              <div class="row" >
                                <label class="col-md-2 control-label text-nowrap">&nbsp;</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'send'|translate}}"
                                                send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum" class="btn btn-primary"
                                                ng-click="deviceCurrentInfoCtrl.sendSetIpSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum,deviceCurrentInfoCtrl.serverHost,deviceCurrentInfoCtrl.serverPort)">
                                  </sms-send-btn>
                                </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:smsControl:setInterval">
                      <div class="box box-success">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'setTheIntervalTimeMessageContent'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="设置GPS在不同供电情况下的回传频率"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row" >
                            <div class="col-md-3">
                              <div class="row">
                                <label for="secOutPower" class="col-md-7 control-label text-nowrap">{{'externalPowerSupplySec'|translate}}</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <input type="text" id="secOutPower" class="form-control" validator="number" ng-model="deviceCurrentInfoCtrl.secOutPower" name="secOutPower"/>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="row">
                                <label for="secLocateInt" class="col-md-7 control-label text-nowrap">{{'positioningTimeSec'|translate}}</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <input type="text" id="secLocateInt" class="form-control"
                                         validator="number" ng-model="deviceCurrentInfoCtrl.secLocateInt" name="secLocateInt"/>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="row">
                                <label for="secInnerPower" class="col-md-7 control-label text-nowrap">{{'internalPowerSupplyMinute'|translate}}</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <input type="text" id="secInnerPower" class="form-control"
                                         validator="number" ng-model="deviceCurrentInfoCtrl.secInnerPower" name="secInnerPower"/>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="row">
                                <label class="col-md-7 control-label text-nowrap">&nbsp;</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'send'|translate}}"
                                                send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum"
                                                class="btn btn-primary"
                                                ng-click="deviceCurrentInfoCtrl.sendSetInterSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum,deviceCurrentInfoCtrl.secOutPower,deviceCurrentInfoCtrl.secLocateInt,deviceCurrentInfoCtrl.secInnerPower)">
                                  </sms-send-btn>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>



                    <div class="col-md-3" presentation-href="dashboard:deviceMonitor:remoteControl:smsControl:setStartTimes">
                      <div class="box box-success">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'setStartTimesSMS'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="设置GPS启动次数"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">

                          <div class="row">
                            <label for="startTimes" class="col-md-2 control-label text-nowrap">{{'numberOfStarts'|translate}}</label>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <input type="text" id="startTimes" class="form-control" placeholder="{{'numberOfStarts'|translate}}"
                                     validator="number" ng-model="deviceCurrentInfoCtrl.startTimes" name="startTimes"/>
                            </div>
                            <div class="col-md-6">
                              <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'send'|translate}}"
                                            send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum"
                                            class="btn btn-primary"
                                            ng-click="deviceCurrentInfoCtrl.sendSetStartTimesSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum,deviceCurrentInfoCtrl.startTimes)">
                              </sms-send-btn>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3" presentation-href="sms:setWorkHoursSMS">
                      <div class="box box-success">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'setHoursOfWorkHours'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="设置GPS工作小时数"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">

                          <div class="row">
                            <label for="workHours" class="col-md-2 control-label text-nowrap">{{'workingHours'|translate}}</label>
                          </div>
                          <div class="row" presentation-href="dashboard:deviceMonitor:remoteControl:smsControl:setWorkTime">
                            <div class="col-md-6">
                              <input type="text" id="workHours" class="form-control" placeholder="{{'workingHours'|translate}}"
                                     ng-model="deviceCurrentInfoCtrl.workHours" name="workHours"/>
                            </div>
                            <div class="col-md-6">
                              <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'send'|translate}}"
                                            send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum"
                                            class="btn btn-primary"
                                            ng-click="deviceCurrentInfoCtrl.sendSetWorkHoursSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum,deviceCurrentInfoCtrl.workHours)">
                              </sms-send-btn>
                            </div>

                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3" presentation-href="dashboard:deviceMonitor:remoteControl:smsControl:bind">
                      <div class="box box-danger">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'startLockCar'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="将GPS设备与车辆绑定"> <i class="fa fa-info" ></i> </a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="row" >
                                <label class="col-md-2 control-label text-nowrap">&nbsp;</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'startLockCar'|translate}}"
                                                send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum"
                                                class="btn btn-danger" presentation-href="sms:activeLockSms"
                                                ng-click="deviceCurrentInfoCtrl.sendActiveLockSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">
                                  </sms-send-btn>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="row">
                                <label class="col-md-2 control-label text-nowrap">&nbsp;</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow"
                                                send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum" btn-label="{{'LockCar'|translate}}"
                                                class="btn btn-warning" presentation-href="sms:unActiveLockSMS"
                                                ng-click="deviceCurrentInfoCtrl.sendUnActiveLockSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">
                                  </sms-send-btn>
                                </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3" presentation-href="dashboard:deviceMonitor:remoteControl:smsControl:unBind">
                      <div class="box box-danger">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'lockYourCar'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="通过GPS锁定车辆，锁车后车辆无法启动。"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="row" presentation-href="sms:lockSMS">
                                <label class="col-md-2 control-label text-nowrap">&nbsp;</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'lockYourCar'|translate}}"
                                                send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum"
                                                class="btn btn-danger"  presentation-href="sms:lockSMS"
                                                ng-click="deviceCurrentInfoCtrl.sendLockSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">

                                  </sms-send-btn>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="row" presentation-href="sms:unLockSMS">
                                <label class="col-md-2 control-label text-nowrap">&nbsp;</label>
                              </div>
                              <div class="row">
                                <div class="col-md-12">
                                  <sms-send-btn send-btn-show="deviceCurrentInfoCtrl.sendBtnShow" btn-label="{{'Unlock'|translate}}"
                                                send-device-num="deviceCurrentInfoCtrl.deviceinfo.deviceNum"
                                                class="btn btn-warning" presentation-href="sms:unLockSMS"
                                                ng-click="deviceCurrentInfoCtrl.sendUnLockSMS(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">
                                  </sms-send-btn>
                                </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="panel-group" id="keyboardCtrl" presentation-href="dashboard:deviceMonitor:remoteControl:keyboardControl">
            <div class="panel panel-success">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a ng-click="keyboardCtrl = !keyboardCtrl" href="">
                    <div class="row">
                      <div class="col-md-12 text-center">{{'keyboardCtrl'|translate}}</div>
                    </div>
                  </a>
                </h4>
              </div>
              <div id="keyboardCtrlContent" class="panel-collapse collapse"  ng-class="{in: keyboardCtrl}">
                <div class="panel-body">
                  <div class="row">

                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:keyboardControl:bind">
                      <div class="box box-success">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'startLockCar'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="通过键盘绑定车辆的GPS"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-9">
                              <input type="text" readonly id="bindKeyboardMsg" class="form-control" placeholder="{{'BoundContent'|translate}}"
                                     ng-model="deviceCurrentInfoCtrl.bindKeyboardMsg" name="bindKeyboardMsg"/>
                            </div>
                            <div class="col-md-3">
                              <button class="btn btn-default" type="button"
                                      ng-click="deviceCurrentInfoCtrl.viewBindInputMsg(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">{{'look'|translate}}</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:keyboardControl:unBind">
                      <div class="box box-success">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'unActiveCar'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="通过键盘解除绑定的GPS设备"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-9">
                              <input type="text" readonly id="unbindKeyboardMsg" class="form-control" placeholder="{{'UnboundContent'|translate}}"
                                     ng-model="deviceCurrentInfoCtrl.unbindKeyboardMsg" name="unbindKeyboardMsg"/>
                            </div>
                            <div class="col-md-3">
                              <button class="btn btn-default" type="button"
                                      ng-click="deviceCurrentInfoCtrl.viewUnBindInputMsg(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">{{'look'|translate}}</button>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>


                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:keyboardControl:lock">
                      <div class="box box-danger">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'lockYourCar'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="通过键盘锁车"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-9">
                              <input type="text" readonly id="lockKeyboardMsg" class="form-control" placeholder="{{'BoundContent'|translate}}"
                                     ng-model="deviceCurrentInfoCtrl.lockKeyboardMsg" name="lockKeyboardMsg"/>
                            </div>
                            <div class="col-md-3">
                              <button class="btn btn-default" type="button"
                                      ng-click="deviceCurrentInfoCtrl.viewLockInputMsg(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">{{'look'|translate}}</button>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>

                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:keyboardControl:unLock">
                      <div class="box box-danger">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'Unlock'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="通过键盘解锁车辆"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-9">
                              <input type="text" readonly id="unLockKeyboardMsg" class="form-control" placeholder="{{'UnboundContent'|translate}}"
                                     ng-model="deviceCurrentInfoCtrl.unLockKeyboardMsg" name="unLockKeyboardMsg"/>
                            </div>
                            <div class="col-md-3">
                              <button class="btn btn-default" type="button"
                                      ng-click="deviceCurrentInfoCtrl.viewUnLockInputMsg(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">{{'look'|translate}}</button>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>


                    <div class="col-md-6" presentation-href="dashboard:deviceMonitor:remoteControl:keyboardControl:cancelAutoLock">
                      <div class="box box-danger">
                        <div class="box-header">
                          <h5 class="box-title text-gray">{{'cancelTheAutomaticLockCar'|translate}}</h5>
                          <div class="box-tools pull-right">
                            <a type="button" class="btn" data-toggle="tooltip"
                               data-placement="right" title="通过键盘取消自动锁车"> <i class="fa fa-info" ></i></a>
                          </div>
                        </div>
                        <div class="box-body">
                          <div class="row">
                            <div class="col-md-9">
                              <input readonly id="cancelLockKeyboardMsg" class="form-control" placeholder="{{'cancelTheAutomaticKeyboardLockCarDataContent'|translate}}"
                                     ng-model="deviceCurrentInfoCtrl.cancelLockKeyboardMsg" name="cancelLockKeyboardMsg" />

                            </div>
                            <div class="col-md-3">
                              <button class="btn btn-danger pull-right" type="button"
                                      ng-click="deviceCurrentInfoCtrl.viewCancelLockInputMsg(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">{{'look'|translate}}</button>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>



          <!--矿车MQTT协议 设置上传丶采样时间-->
          <div presentation-href="dashboard:deviceMonitor:remoteControl:mqttControl" ng-if="deviceCurrentInfoCtrl.deviceinfo.versionNum=='1001'">
            <hr />
            <div class="row">
              <div class="form-group">
                <label class="col-md-2 control-label text-nowrap">时间间隔类型</label>
                <div class="col-md-3">
                  <select class="form-control" ng-model="deviceCurrentInfoCtrl.returnTimeParam.name">
                    <option value="timeBasicInf">产品信息上传时间间隔</option>
                    <option value="timeWorkingCondition">工况信息上传时间间隔</option>
                    <option value="timeSampleNormal">工况信息采样时间间隔</option>
                    <option value="timeSampleRPM">转速采样时间间隔</option>
                    <option value="timeSampleSpeed">车速采样时间间隔</option>
                    <option value="timeSampleCurON">瞬时油耗采样时间间隔</option>
                    <option value="timeSampleLED">状态灯采样时间间隔</option>
                  </select>
                </div>
                <label for="returnTime" class="col-md-1 control-label text-nowrap">时间(秒)</label>
                <div class="col-md-2">
                  <input type="text" id="returnTime" class="form-control" placeholder="时间(秒)"
                         validator="number" ng-model="deviceCurrentInfoCtrl.returnTimeParam.time" name="returnTime"/>
                </div>
                <div class="col-md-3">
                  <button class="btn btn-default" type="button" presentation-href="dashboard:deviceMonitor:remoteControl:mqttControl:setInterval" ng-click="deviceCurrentInfoCtrl.setReturnTime(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum,deviceCurrentInfoCtrl.returnTimeParam)">{{'send'|translate}}</button>
                  <button class="btn btn-default" type="button" presentation-href="dashboard:deviceMonitor:remoteControl:mqttControl:resetInterval" ng-click="deviceCurrentInfoCtrl.setDefaultReturnTime(deviceCurrentInfoCtrl.deviceUnLockFactor.deviceNum)">恢复默认设置</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </uib-tab>

    <!--操作日志-->
    <uib-tab select="deviceCurrentInfoCtrl.getLockData(deviceCurrentInfoCtrl.deviceinfo.sim.phoneNumber)" presentation-href="dashboard:deviceMonitor:operationLog">
      <uib-tab-heading>{{'operationLog'|translate}}</uib-tab-heading>
      <div class="modal-body">
        <div class="box-body">
          <div class="row">
            <div class="col-md-12">
              <div class="table-responsive">
                <table ng-table="deviceCurrentInfoCtrl.lockDataTable" class="table table-striped">
                  <tr>
                    <th class="text-nowrap">{{'releaseTime'|translate}}</th>
                    <th class="text-nowrap">{{'operator'|translate}}</th>
                    <th class="text-nowrap">{{'operatorName'|translate}}</th>
                    <th class="text-nowrap">{{'operationType'|translate}}</th>
                    <th class="text-nowrap">{{'operationResult'|translate}}</th>
                    <th class="text-nowrap">{{'terminalIP'|translate}}</th>
                  </tr>
                  <tr ng-repeat="deviceLockDataList in $data">
                    <td ng-cloak class="text-nowrap text-center">{{deviceLockDataList.sendTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-cloak class="text-nowrap text-center">{{deviceLockDataList.operator}}</td>
                    <td ng-cloak class="text-nowrap text-center">{{deviceLockDataList.lastname}}{{deviceLockDataList.firstname}}</td>
                    <td ng-cloak class="text-nowrap text-center">{{deviceLockDataList.smsType}}</td>
                    <td ng-cloak class="text-nowrap text-center">{{deviceLockDataList.smsStatus}}</td>
                    <td ng-cloak class="text-nowrap text-center">{{deviceLockDataList.clientIp}}</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </uib-tab>

    <!--数据分析-->
    <uib-tab select="deviceCurrentInfoCtrl.initConfig(deviceCurrentInfoCtrl.deviceinfo.deviceNum)" presentation-href="dashboard:deviceMonitor:dataAnalysis">
      <uib-tab-heading>{{'dataAnalysis'|translate}}</uib-tab-heading>
      <div class="modal-body"  style=" overflow-y:scroll; overflow-x:hidden; height:600px;">
        <div class="box-body">
          <div class="row">
            <div class="col-md-1">
              <label class="control-label text-nowrap">{{'startDate'|translate}}:</label>
            </div>
            <div class="col-md-3">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{formatCustom}}" ng-model="deviceCurrentInfoCtrl.startDateMapData" is-open="deviceCurrentInfoCtrl.startDateOpenStatusMapData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" min-date="deviceCurrentInfoCtrl.minDate" max-date="deviceCurrentInfoCtrl.maxDate" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.startDateOpenMapData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
              </p>
            </div>
            <div class="col-md-1">
              <label class="control-label text-nowrap">{{'endDate'|translate}}:</label>
            </div>
            <div class="col-md-3">
              <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="{{formatCustom}}" ng-model="deviceCurrentInfoCtrl.endDateMapData" is-open="deviceCurrentInfoCtrl.endDateOpenStatusMapData.opened" datepicker-options="deviceCurrentInfoCtrl.dateOptions" ng-required="true" current-text="{{'today'|translate}}" clear-text="{{'cleanUp'|translate}}" close-text="{{'close'|translate}}" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deviceCurrentInfoCtrl.endDateOpenMapData($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
              </p>
            </div>
            <div class="col-md-4" style="padding: 0px;">
              <div style="float:left;margin-top: -5px;">
                <div><input type="radio" name="radio" value="DASHBOARD" ng-model="deviceCurrentInfoCtrl.checkedRad">&nbsp;{{'comprehensiveAnalysis'|translate}}</div>
                <div><input type="radio" name="radio" value="STATEQUANTITY" ng-model="deviceCurrentInfoCtrl.checkedRad">&nbsp;{{'dataDisplay'|translate}}</div>
              </div>
              <button type="button" style="float:left;margin-left: 18px;" ng-class="deviceCurrentInfoCtrl.checkedRad=='DASHBOARD'?'disabled':''"
                      class="btn btn-default" ng-click="deviceCurrentInfoCtrl.selectSensor(deviceCurrentInfoCtrl.checkedRad)">{{'stateQuantity'|translate}}</button>
              <button class="btn btn-primary ng-binding" style="float:left;margin-left: 18px;" type="button" presentation-href="dashboard:deviceMonitor:dataAnalysis:query" ng-click="deviceCurrentInfoCtrl.viewReport(deviceCurrentInfoCtrl.deviceinfo.versionNum,deviceCurrentInfoCtrl.deviceinfo.deviceNum, deviceCurrentInfoCtrl.startDateMapData,deviceCurrentInfoCtrl.endDateMapData)">{{'confirm'|translate}}</button>
            </div>
          </div>
          <div ng-show="deviceCurrentInfoCtrl.checkedRad=='DASHBOARD'?false:true">
             <span ng-repeat="(x,y) in deviceCurrentInfoCtrl.sensorItem" style="padding-left: 2px;">
             {{y}}<i  class="glyphicon glyphicon-remove" style="cursor: pointer;" ng-click="deviceCurrentInfoCtrl.removeItem(x)"></i>
           </span>
          </div>
          <div style="padding-top: 10px;">
              <div ng-switch="deviceCurrentInfoCtrl.checkedRad">
                <div ng-switch-when="DASHBOARD">
                    <div class="row">
                      <div class="col-md-12">
                        <label style="position: absolute;right: 50px;top: 5px;z-index: 99;">
                          <button type="button" class="btn btn-primary btn-sm" ng-click="deviceCurrentInfoCtrl.changeChartType(deviceCurrentInfoCtrl.workTimeChart)">{{'switching'|translate}}</button>
                        </label>
                        <highchart id="workTimeChart" title="{{'averageWorkingHours'|translate}}"
                                   style="height:250px;"
                                   config="deviceCurrentInfoCtrl.workTimeChart">
                        </highchart>
                      </div>
                      <div class="col-md-12">
                        <label style="position: absolute;right: 50px;top: 5px;z-index: 99;">
                          <button type="button" class="btn btn-primary btn-sm" ng-click="deviceCurrentInfoCtrl.changeChartType(deviceCurrentInfoCtrl.startTimesChart)">{{'switching'|translate}}</button>
                        </label>
                        <highchart id="startTimesChart" title="{{'averageNumberOfStarts'|translate}}"
                                     style="height: 250px"
                                     config="deviceCurrentInfoCtrl.startTimesChart">
                        </highchart>
                      </div>
                    </div>
                    <!--<div class="row">-->
                      <!--<div class="col-xs-12">-->
                        <!--<highchart id="realtimeChart" title="{{'analysisOfMachineSingleWorkHours'|translate}}"-->
                                   <!--style="min-width:850px;height: 300px"-->
                                   <!--config="deviceCurrentInfoCtrl.singleWorkHours">-->
                        <!--</highchart>-->
                      <!--</div>-->
                    <!--</div>-->
                </div>
                <div ng-switch-when="STATEQUANTITY">
                    <highchart id="simpleChart" title="{{'operationalDataAnalysis'|translate}}" style="min-width:850px;height:500px;"  config="deviceCurrentInfoCtrl.chartConfig" ></highchart>
                </div>
              </div>
          </div>
        </div>
      </div>
    </uib-tab>

    <!--用户画像-->
    <uib-tab select="deviceCurrentInfoCtrl.initPortrait()" presentation-href="deviceMonitor:portrait" presentation-href="dashboard:deviceMonitor:userPortrait">
      <uib-tab-heading>{{'userPortrait'|translate}}</uib-tab-heading>
      <div class="modal-body"  style="overflow-y: auto; overflow-x:hidden; height:600px;">

        <div class="row">
          <div class="col-xs-3">
            <!--<img src="assets/images/boy.png" width="100%" height="100%" style="margin-top: 30%">-->

            <div style="background-image: url('../../../assets/images/boyboy.png');
                  background-size: contain;
                  background-repeat: no-repeat;
                  width: 200px;height: 280px;margin-top: 30%">
              <h2 style="padding-top: 30px;margin-left: 50px;color: #2e6da4;font-family: 微软雅黑;">
                {{deviceCurrentInfoCtrl.customerInfo.sex}}</h2>
              <h4 style="margin-top: -30px;margin-left: 100px;color: #9c0033;font-family: 微软雅黑;">
                {{deviceCurrentInfoCtrl.customerInfo.address}}</h4>
              <h4 style="margin-top: 18px;margin-left: 40px;color: #1a2c51; font-family: 微软雅黑;">
                {{deviceCurrentInfoCtrl.customerInfo.maintainHabits}}</h4>
              <h4 style="margin-top: 15px;margin-left: 70px;color: #605ca8;font-family: 微软雅黑;">
                {{deviceCurrentInfoCtrl.customerInfo.consumingHabits}}</h4>
              <h4 style="margin-top: 5px;margin-left: 60px;color: mediumseagreen;font-family: 微软雅黑;">
                {{deviceCurrentInfoCtrl.customerInfo.jobs}}</h4>
              <h3 style="margin-top: 35px;margin-left: 60px;color: #ba9d37;font-family: 微软雅黑;">
                {{deviceCurrentInfoCtrl.customerInfo.age}}</h3>
            </div>
          </div>
          <div class="col-xs-3">
            <ul class="item-containe" style="margin-left: -35%;">

              <li ng-repeat="item in deviceCurrentInfoCtrl.itemList track by $index"
                  style="min-width: 70%;cursor:pointer;
                  margin-top: 12%;
                  padding: 8px;
                  border-radius: 8px;
                  margin-left: 10%;
                  color: white;
                  display: inline-block;
                  text-align: center"
                  ng-style = "{backgroundColor:item.isSelected?'#ccc':item.backgroundColor,marginLeft: item.marginLeft }"
                  ng-mousedown="deviceCurrentInfoCtrl.itemMousedown(item)"
                  ng-mouseup="deviceCurrentInfoCtrl.itemMouseup(item)"
                  ng-click="deviceCurrentInfoCtrl.chargeChart(item.chart)">{{item.title}}</li>

            </ul>

          </div>
          <div class="col-xs-6">
            <div class="container" style="border: 1px solid #cccccc;
                        -webkit-border-radius: 5px;
                        -moz-border-radius: 5px;
                        border-radius: 10px;
                        overflow: hidden;
                        margin-top: 80px;
                        width: 350px;height: 170px; text-align: center"
                 ng-show="deviceCurrentInfoCtrl.portraitChart==null">
              <div class="row bg-info" style="height: 20%;padding:5px;">
                <div class="col-sm-4">{{'age'|translate}}</div>
                <div class="col-sm-8">{{deviceCurrentInfoCtrl.customerInfo.age}}</div>
              </div>
              <div class="row bg-success" style="height: 20%;padding:5px;">
                <div class="col-sm-4">{{'nativePlace'|translate}}</div>
                <div class="col-sm-8">{{deviceCurrentInfoCtrl.customerInfo.address}}</div>
              </div>
              <div class="row bg-warning" style="height: 20%;padding:5px;">
                <div class="col-sm-4">{{'job'|translate}}</div>
                <div class="col-sm-8">{{deviceCurrentInfoCtrl.customerInfo.jobs}}</div>
              </div>
              <div class="row bg-danger" style="vertical-align:middle;height: 40%;padding:10px;">
                <div class="col-sm-4">{{'feature'|translate}}</div>
                <div class="col-sm-8">{{deviceCurrentInfoCtrl.customerInfo.description}}</div>
              </div>
            </div>

            <div ng-show="deviceCurrentInfoCtrl.portraitChart!=null">
              <highchart style="margin-left: -10%;width: 450px;height: 380px" ng-if="deviceCurrentInfoCtrl.portraitChart!=null" config = "deviceCurrentInfoCtrl.portraitChart"></highchart>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-xs-6">
            <highchart style="margin-top: 15%;margin-left: -12%" config = "deviceCurrentInfoCtrl.enginePerformsChart"></highchart>

          </div>

          <div class="col-xs-6">
            <highchart style="margin-top: 30px" config = "deviceCurrentInfoCtrl.engineScoreChart"></highchart>
            <div style="border: 1px solid #cccccc;
                        -webkit-border-radius: 30px;
                        -moz-border-radius: 30px;
                        border-radius: 30px;
                        overflow: hidden;
                        width: 300px;height: 243px;
                        margin-left: 50px";>

              <table class="table" style="text-align: center">
                <tbody>
                  <tr class="primary">
                    <td colspan="2"><h4 class="text-red">{{'fromTheNextMaintenance'|translate}}{{deviceCurrentInfoCtrl.enginePerforms.nextMaintainTime}}{{'hour'|translate}}</h4></td>
                  </tr>
                  <tr class="info">
                    <td>{{'averageFuelConsumption'|translate}}</td>
                    <td >{{deviceCurrentInfoCtrl.enginePerforms.avgOil}} g/kW·h</td>
                  </tr>
                  <tr class="success">
                    <td>{{'averageTemperature'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.enginePerforms.avgTemperature}} ℃</td>
                  </tr>
                  <tr class="warning">
                    <td>{{'maximumTorque'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.enginePerforms.maxTorque}} N.m</td>
                  </tr>
                  <tr class="danger">
                    <td>{{'ratedPowerSpeed'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.enginePerforms.avgPower}} kW/r/min</td>
                  </tr>
                  <tr class="active">
                    <td>{{'displacement'|translate}}</td>
                    <td>{{deviceCurrentInfoCtrl.enginePerforms.displacement}} L</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="page-header">
              <!--<h1>Horizontal timeline</h1>-->
            </div>
            <div style="display:inline-block;width:100%;overflow-y:hidden; overflow-x:scroll; height:400px;">
              <ul class="timeline timeline-horizontal">
                <li class="timeline-item" ng-repeat="item in deviceCurrentInfoCtrl.eventList">
                  <div class="timeline-badge" ng-style="{'background-color':item.style}"><i class="glyphicon glyphicon-check"></i></div>
                  <div class="timeline-panel" ng-style="{'border-color':item.style}">
                    <div class="timeline-heading">
                      <h4 class="timeline-title">{{item.eventTitle}}</h4>
                      <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> {{item.recordTime | date:'yyyy-MM-dd' }}</small></p>
                    </div>
                    <div class="timeline-body">
                      <p ng-repeat="content in item.eventContent">{{content}}</p>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </uib-tab>

  </uib-tabset>
  <div class="modal-footer"></div>
</form>

