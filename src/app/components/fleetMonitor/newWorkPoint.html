<div class="modal-header">
  <h3 class="modal-title">新建作业点
    <button class="btn btn-warning pull-right" type="button" ng-click="newWorkPointCtrl.cancel()">取消</button>

  </h3>

</div>
<form name="newWorkPointForm" class="form-horizontal" style="font-size:13px;">
  <div class="modal-body row">
    <div class="box-body col-sm-6">
      <br>
      <div class="form-group">
        <label for="fleet" class="col-sm-3 control-label padding5">{{'underFleet'|translate}}</label>
        <div class="col-sm-8">
          <input type="text" id="fleet" class="form-control" placeholder="{{'underFleet'|translate}}"
                 ng-model="newWorkPointCtrl.workPoint.fleet.label" name="label" typeahead-show-hint="true"
                 validator="required" readonly/>
        </div>
      </div>
      <div class="form-group">
        <label for="name" class="col-sm-3 control-label padding5">{{'name'|translate}}</label>
        <div class="col-sm-8">
          <input type="text" id="name" class="form-control" placeholder="{{'name'|translate}}"
                 ng-model="newWorkPointCtrl.workPoint.name" name="name" typeahead-show-hint="true"
                 validator="required"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label padding5">{{'type'|translate}}</label>
        <div class="col-sm-8">
          <ui-select id="pointType" name="pointType" ng-model="newWorkPointCtrl.workPoint.type" theme="bootstrap"
                     validator="required">
            <ui-select-match allow-clear="true" placeholder="{{'type'|translate}}">{{$select.selected.name}}
            </ui-select-match>
            <ui-select-choices
              repeat="pointType.id as pointType in newWorkPointCtrl.pointTypeList | propsFilter: {name: $select.search}">
              <div ng-bind-html="pointType.name | highlight: $select.search"></div>
            </ui-select-choices>
          </ui-select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label padding5">{{'description'|translate}}</label>
        <div class="col-sm-8">
          <input type="text" id="describe" class="form-control" placeholder="{{'description'|translate}}"
                 ng-model="newWorkPointCtrl.workPoint.describe" name="describe" typeahead-show-hint="true"
                 validator="required"/>
        </div>
      </div>
      <div class="form-group">
        <label for="longitude" class="col-sm-3 control-label padding5">{{'longitude'|translate}}</label>
        <div class="col-sm-8">
          <input type="text" id="longitude" class="form-control" placeholder="{{'longitude'|translate}}" name="longitude"
                 typeahead-show-hint="true"
                 required/>
        </div>
      </div>
      <div class="form-group">
        <label for="latitude" class="col-sm-3 control-label padding5">{{'latitude'|translate}}</label>
        <div class="col-sm-8">
          <input type="text" id="latitude" class="form-control" placeholder="{{'latitude'|translate}}" name="latitude"
                 required/>
        </div>
      </div>
      <div class="form-group">
        <label for="radius" class="col-sm-3 control-label padding5">{{'radius'|translate}}</label>
        <div class="col-sm-8">
          <input type="text" id="radius" class="form-control" placeholder="{{'radius'|translate}}" name="radius" typeahead-show-hint="true"
                 required/>
        </div>
      </div>

      <br>
      <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="newWorkPointCtrl.addPoint()">添加作业点</button>
        <button class="btn btn-warning" type="button" ng-click="newWorkPointCtrl.remove()">移除作业点</button>
        <button class="btn btn-danger" type="button" ng-click="newWorkPointCtrl.ok(newWorkPointCtrl.workPoint)"
                validation-submit="newWorkPointForm">{{'submit'|translate}}
        </button>
      </div>

      <i style="color: red" ng-if="null!=newWorkPointCtrl.errorMsg">
        {{newWorkPointCtrl.errorMsg}}<br/>
      </i>
    </div>
    <div class="map-body col-sm-6">
      <div class="form-group">
        <div class="col-sm-3"></div>
        <div class="col-sm-7">
          <input type="text" id="tipinput" class="form-control" placeholder="{{'search'|translate}}" ng-model="newWorkPointCtrl.tipinput"/>
        </div>
        <button type="button" class="btn btn-primary" value="地图上显示" id="showMachineAddress"
                ng-click="newWorkPointCtrl.showAddress(newWorkPointCtrl.tipinput)">定位
        </button>
      </div>
      <div class="box-body" id="newWorkPointMap" style="height:400px;width: 400px;"></div>
    </div>
  </div>
</form>
