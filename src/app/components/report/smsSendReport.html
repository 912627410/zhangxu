<!-- Right side column. Contains the navbar and content of the page -->
<!-- Content Header (Page header) -->

<section class="content-header">
  <h1>
    <small></small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> {{'statisticalAnalysis'|translate}}</a></li>
    <li class="active">短信发送统计</li>
  </ol>
</section>


<!-- Main content -->
<section class="content">

  <div class="row">

    <div class="col-md-1">
      <label class="control-label text-nowrap">开始时间: </label>
    </div>
    <div class="col-md-2">
      <p class="input-group">
        <input type="text"
               class="form-control"
               uib-datepicker-popup="{{formatCustom}}"
               ng-model="queryDate.startDate"
               is-open="startDateOpenStatus"
               datepicker-options="dateOptions"
               ng-required="true"
               current-text="今天"
               clear-text="清除"
               close-text="关闭" />
        <span class="input-group-btn">
          <button type="button"
                  class="btn btn-default"
                  ng-click="startDateOpen($event)">
            <i class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </p>
    </div>

    <div class="col-md-1">
      <label class="control-label text-nowrap">结束时间: </label>
    </div>
    <div class="col-md-2">
      <p class="input-group">
        <input type="text"
               class="form-control"
               uib-datepicker-popup="{{formatCustom}}"
               ng-model="queryDate.endDate"
               is-open="endDateOpenStatus"
               datepicker-options="dateOptions"
               ng-required="true"
               current-text="今天"
               clear-text="清除"
               close-text="关闭" />
        <span class="input-group-btn">
          <button type="button"
                  class="btn btn-default"
                  ng-click="endDateOpen($event)">
            <i class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </p>
    </div>

    <div class="col-md-1 text-nowrap">
      <label class="control-label">统计类型</label>
    </div>
    <div class="col-md-2">
      <select name="queryType" class="form-control"
              ng-model="queryDate.reportType"
              ng-options="reportType.type as reportType.name for reportType in reportTypeList">
      </select>
    </div>

    <div class="col-md-3">
      <button class="btn btn-warning" type="button" ng-click="smsSendReportCtrl.reset()">{{'reset'|translate}}</button>
      <button class="btn btn-primary" type="button" presentation-href="statAnalysis:sms:query" ng-click="smsSendReportCtrl.query(queryDate)">{{'query'|translate}}</button>

    </div>
  </div>

  <br>
  <div class="row" style="padding: 10px">
    <div class="table-responsive">
      <table ng-table="smsSendReportCtrl.tableParams" class="table table-condensed table-bordered table-striped text-nowrap">
        <tr ng-repeat="smsReport in $data" style="text-align:center;">

          <td class="text-nowrap" data-title="'日期'" ng-if="queryDate.reportType!=7">{{smsReport.sendTime |date:'yyyy-MM-dd'}}</td>
          <td class="text-nowrap" data-title="'类型'" ng-if="queryDate.reportType==7">{{smsReport.sendType}}</td>
          <td class="text-nowrap" data-title="'发送失败'" >{{smsReport.sendFail}}</td>
          <td class="text-nowrap" data-title="'发送成功'" >{{smsReport.sendSuccess}}</td>
          <td class="text-nowrap" data-title="'总计'" >{{smsReport.sendTotal}}</td>

        </tr>
        <tr style="text-align:center;">
          <td class="text-nowrap" data-title="'累计'">累计</td>
          <td class="text-nowrap" data-title="'发送失败'">{{smsSendReportCtrl.sendFail}}</td>
          <td class="text-nowrap" data-title="'发送成功'" >{{smsSendReportCtrl.sendSuccess}}</td>
          <td class="text-nowrap" data-title="'总计'" >{{smsSendReportCtrl.sendTotal}}</td>

        </tr>
      </table>
    </div>
  </div><!-- /.row -->


</section>

